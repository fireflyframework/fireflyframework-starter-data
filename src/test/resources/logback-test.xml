<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Simple console appender for tests - NO JSON -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} %-5level [%15.15t] %-40.40logger{39} : %msg%n</pattern>
        </encoder>
    </appender>

    <!-- Root logger -->
    <root level="WARN">
        <appender-ref ref="CONSOLE" />
    </root>

    <!-- Application loggers - Keep only essential INFO messages -->
    <logger name="org.fireflyframework.webhooks.web.controllers" level="INFO" />
    <logger name="org.fireflyframework.webhooks.core.services" level="INFO" />

    <!-- Suppress expected error logs in tests (signature validation failures, etc.) -->
    <logger name="org.fireflyframework.webhooks.processor.listener" level="OFF" />
    <logger name="org.fireflyframework.webhooks.integration.services" level="OFF" />
    <logger name="org.fireflyframework.eda.listener" level="OFF" />

    <logger name="org.fireflyframework.webhooks" level="WARN" />
    <logger name="org.fireflyframework.eda" level="ERROR" />
    <logger name="org.fireflyframework.cache" level="ERROR" />
    <logger name="org.fireflyframework.eventsourcing" level="ERROR" />

    <!-- fireflyframework-starter-data loggers -->
    <!-- Suppress expected validation errors in tests -->
    <logger name="org.fireflyframework.data.operation.AbstractProviderOperation" level="OFF" />
    <logger name="org.fireflyframework.data.enrichment.EnrichmentRequestValidator" level="OFF" />
    <logger name="org.fireflyframework.data.service.AbstractResilientDataEnricher" level="OFF" />
    <logger name="org.fireflyframework.data.service.AbstractResilientSyncDataJobService" level="OFF" />
    <logger name="org.fireflyframework.data.service.AbstractResilientDataJobService" level="OFF" />
    <logger name="org.fireflyframework.data.controller.AbstractDataJobController" level="OFF" />
    <logger name="org.fireflyframework.data.controller.AbstractSyncDataJobController" level="OFF" />
    <logger name="org.fireflyframework.data.controller.AbstractDataEnricherController" level="OFF" />
    <logger name="org.fireflyframework.data.service.TypedDataEnricher" level="OFF" />
    <logger name="org.fireflyframework.data.service.DataEnricherRegistry" level="OFF" />
    <logger name="org.fireflyframework.data.service.DataJobDiscoveryService" level="OFF" />
    <logger name="org.fireflyframework.data.observability.JobTracingService" level="OFF" />
    <logger name="org.fireflyframework.data.mapper.JobResultMapperRegistry" level="OFF" />

    <!-- Keep INFO level for important business logic -->
    <logger name="org.fireflyframework.data" level="WARN" />
    
    <!-- Third-party loggers -->
    <logger name="org.apache.kafka" level="ERROR" />
    <logger name="org.testcontainers" level="WARN" />
    <logger name="org.springframework" level="WARN" />
    <logger name="io.lettuce" level="ERROR" />
    <logger name="reactor.netty" level="ERROR" />
</configuration>

